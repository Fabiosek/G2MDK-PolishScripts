
instance DIA_CORD_EXIT(C_INFO)
{
	npc = sld_805_cord;
	nr = 999;
	condition = dia_cord_exit_condition;
	information = dia_cord_exit_info;
	permanent = TRUE;
	description = DIALOG_ENDE;
};


func int dia_cord_exit_condition()
{
	return TRUE;
};

func void dia_cord_exit_info()
{
	AI_StopProcessInfos(self);
};


instance DIA_ADDON_CORD_MEETINGISRUNNING(C_INFO)
{
	npc = sld_805_cord;
	nr = 1;
	condition = dia_addon_cord_meetingisrunning_condition;
	information = dia_addon_cord_meetingisrunning_info;
	important = TRUE;
	permanent = TRUE;
};


func int dia_addon_cord_meetingisrunning_condition()
{
	if(Npc_IsInState(self,zs_talk) && (RANGERMEETINGRUNNING == LOG_RUNNING))
	{
		return TRUE;
	};
};


var int dia_addon_cord_meetingisrunning_onetime;

func void dia_addon_cord_meetingisrunning_info()
{
	if(DIA_ADDON_CORD_MEETINGISRUNNING_ONETIME == FALSE)
	{
		AI_Output(self,other,"DIA_Addon_Cord_MeetingIsRunning_14_00");	//Witaj w Wodnym Krêgu, bracie.
		DIA_ADDON_CORD_MEETINGISRUNNING_ONETIME = TRUE;
	}
	else
	{
		AI_Output(self,other,"DIA_Addon_Cord_MeetingIsRunning_14_01");	//Powinieneœ teraz iœæ do Vatrasa.
	};
	AI_StopProcessInfos(self);
};


instance DIA_CORD_HALLO(C_INFO)
{
	npc = sld_805_cord;
	nr = 2;
	condition = dia_cord_hallo_condition;
	information = dia_cord_hallo_info;
	permanent = FALSE;
	important = TRUE;
};


func int dia_cord_hallo_condition()
{
	if(Npc_IsInState(self,zs_talk) && (self.aivar[AIV_TALKEDTOPLAYER] == FALSE) && (other.guild == GIL_NONE) && (RANGERMEETINGRUNNING != LOG_SUCCESS))
	{
		return TRUE;
	};
};

func void dia_cord_hallo_info()
{
	AI_Output(self,other,"DIA_Cord_Hallo_14_00");	//Jeœli masz problem z wilkami albo polnymi bestiami, porozmawiaj z którymœ z m³odszych najemników.
	AI_Output(self,other,"DIA_Cord_Hallo_14_01");	//Mo¿esz do mnie przyjœæ, kiedy pojawi¹ siê tu paladyni.
	if(SC_ISRANGER == FALSE)
	{
		AI_Output(other,self,"DIA_Cord_Hallo_15_02");	//Co?
		AI_Output(self,other,"DIA_Cord_Hallo_14_03");	//Zawsze kiedy przychodzi do mnie jakiœ wieœniak, chodzi o rzeŸ na niewinnych zwierzêtach.
		AI_Output(other,self,"DIA_Cord_Hallo_15_04");	//Nie jestem wieœniakiem.
		AI_Output(self,other,"DIA_Cord_Hallo_14_05");	//Tak? A zatem czego chcesz?
	};
};


var int cord_schonmalgefragt;

instance DIA_CORD_WANNAJOIN(C_INFO)
{
	npc = sld_805_cord;
	nr = 5;
	condition = dia_cord_wannajoin_condition;
	information = dia_cord_wannajoin_info;
	permanent = TRUE;
	description = "Chcê zostaæ najemnikiem!";
};


func int dia_cord_wannajoin_condition()
{
	if((CORD_APPROVED == FALSE) && (hero.guild == GIL_NONE))
	{
		return TRUE;
	};
};

func void b_cord_bebetter()
{
	AI_Output(self,other,"DIA_Cord_WannaJoin_14_14");	//Dopóki nie nauczysz siê prawid³owo trzymaæ broñ, nie masz tu czego szukaæ!
};

func void dia_cord_wannajoin_info()
{
	AI_Output(other,self,"DIA_Cord_WannaJoin_15_00");	//Chcê zostaæ najemnikiem!
	if(CORD_SCHONMALGEFRAGT == FALSE)
	{
		AI_Output(self,other,"DIA_Cord_WannaJoin_14_01");	//Wygl¹dasz mi raczej na kogoœ, kto urodzi³ siê do pracy w polu, ch³opcze.
		AI_Output(self,other,"DIA_Cord_WannaJoin_14_02");	//Potrafisz trzymaæ broñ?
		CORD_SCHONMALGEFRAGT = TRUE;
	}
	else
	{
		AI_Output(self,other,"DIA_Cord_WannaJoin_14_03");	//Podszkoli³eœ siê trochê?
	};
	AI_Output(self,other,"DIA_Cord_WannaJoin_14_04");	//To mo¿e broñ jednorêczna?
	if(Npc_GetTalentSkill(other,NPC_TALENT_1H) > 0)
	{
		AI_Output(other,self,"DIA_Cord_WannaJoin_15_05");	//Nie jestem w tym a¿ taki z³y...
	}
	else
	{
		AI_Output(other,self,"DIA_Cord_WannaJoin_15_06");	//No có¿...
	};
	AI_Output(self,other,"DIA_Cord_WannaJoin_14_07");	//W takim razie dwurêczna?
	if(Npc_GetTalentSkill(other,NPC_TALENT_2H) > 0)
	{
		AI_Output(other,self,"DIA_Cord_WannaJoin_15_08");	//Poradzê sobie z tym.
	}
	else
	{
		AI_Output(other,self,"DIA_Cord_WannaJoin_15_09");	//Z pewnoœci¹ szybko siê nauczê!
	};
	if((Npc_GetTalentSkill(other,NPC_TALENT_1H) > 0) || (Npc_GetTalentSkill(other,NPC_TALENT_2H) > 0))
	{
		AI_Output(self,other,"DIA_Cord_WannaJoin_14_10");	//No có¿, przynajmniej nie jesteœ zupe³nie zielony. Dobrze, przyjmujê ciê.
		AI_Output(self,other,"DIA_Cord_WannaJoin_14_11");	//Mogê ciê nauczyæ, czego tylko zapragniesz.
		CORD_APPROVED = TRUE;
		b_giveplayerxp(XP_CORD_APPROVED);
		b_logentry(TOPIC_SLDRESPEKT,"G³os Corda znajduje siê w sakwie.");
		Log_CreateTopic(TOPIC_SOLDIERTEACHER,LOG_NOTE);
		b_logentry(TOPIC_SOLDIERTEACHER,"Cord mo¿e mnie szkoliæ w zakresie walki orê¿em jedno- i dwurêcznym.");
	}
	else
	{
		AI_Output(self,other,"DIA_Cord_WannaJoin_14_12");	//Innymi s³owy, jesteœ cholernym amatorem!
		AI_Output(self,other,"DIA_Cord_WannaJoin_14_13");	//Ka¿dy najemnik musi wiedzieæ, ¿e mo¿e polegaæ na swoich kompanach. Od tego zale¿y nasze ¿ycie.
		b_cord_bebetter();
		Log_CreateTopic(TOPIC_CORDPROVE,LOG_MISSION);
		Log_SetTopicStatus(TOPIC_CORDPROVE,LOG_RUNNING);
		b_logentry(TOPIC_CORDPROVE,"Cord udzieli mi swojego poparcia, jeœli stanê siê lepszym wojownikiem.");
	};
};


instance DIA_ADDON_CORD_YOUARERANGER(C_INFO)
{
	npc = sld_805_cord;
	nr = 2;
	condition = dia_addon_cord_youareranger_condition;
	information = dia_addon_cord_youareranger_info;
	description = "Podobno nale¿ysz do Wodnego Krêgu.";
};


func int dia_addon_cord_youareranger_condition()
{
	if((RANGERHELP_GILDESLD == TRUE) && (CORD_SCHONMALGEFRAGT == TRUE))
	{
		return TRUE;
	};
};

func void dia_addon_cord_youareranger_info()
{
	AI_Output(other,self,"DIA_Addon_Cord_YouAreRanger_15_00");	//Podobno nale¿ysz do Wodnego Krêgu.
	if(SC_ISRANGER == FALSE)
	{
		AI_Output(self,other,"DIA_Addon_Cord_YouAreRanger_14_01");	//Który dureñ nie umia³ siedzieæ cicho?
		if(SC_KNOWSCORDASRANGERFROMLEE == TRUE)
		{
			AI_Output(other,self,"DIA_Addon_Cord_YouAreRanger_15_02");	//Lee mi powiedzia³.
		};
		if(SC_KNOWSCORDASRANGERFROMLARES == TRUE)
		{
			AI_Output(other,self,"DIA_Addon_Cord_YouAreRanger_15_03");	//Lares wspomina³, ¿e pomo¿esz mi - jeœli powiem, ¿e jestem jego protegowanym.
		};
	};
	AI_Output(self,other,"DIA_Addon_Cord_YouAreRanger_14_04");	//Wygl¹da wiêc na to, ¿e muszê siê z tym pogodziæ.
	AI_Output(self,other,"DIA_Addon_Cord_Add_14_01");	//Dobrze - czego ci potrzeba?
	AI_Output(self,other,"DIA_Addon_Cord_YouAreRanger_14_06");	//Tylko uwa¿aj, co teraz powiesz. Jeœli nie spodobaj¹ mi siê twoje s³owa, to po¿a³ujesz!
	Info_ClearChoices(dia_addon_cord_youareranger);
	Info_AddChoice(dia_addon_cord_youareranger,"Prawdê mówi¹c, to niczego mi nie potrzeba. Sam sobie jakoœ poradzê.",dia_addon_cord_youareranger_nix);
	Info_AddChoice(dia_addon_cord_youareranger,"Chcê twojego pancerza.",dia_addon_cord_youareranger_ruestung);
	Info_AddChoice(dia_addon_cord_youareranger,"Chcê twojej broni!",dia_addon_cord_youareranger_waffe);
	if(CORD_APPROVED == FALSE)
	{
		Info_AddChoice(dia_addon_cord_youareranger,"Naucz mnie walki.",dia_addon_cord_youareranger_kampf);
	};
	if(hero.guild == GIL_NONE)
	{
	};
	if(hero.guild == GIL_NONE)
	{
		Info_AddChoice(dia_addon_cord_youareranger,"Mo¿esz pomóc mi w do³¹czeniu do najemników.",dia_addon_cord_youareranger_sldaufnahme);
	};
};


var int cord_sc_dreist;

func void b_dia_addon_cord_youareranger_warn()
{
	AI_Output(self,other,"DIA_Addon_Cord_YouAreRanger_WARN_14_00");	//Jeœli siê dowiem, ¿e nie trzyma³eœ gêby na k³ódkê, lepiej trzymaj siê z daleka. Nie mam zamiaru powtarzaæ tego ostrze¿enia!
};

func void b_dia_addon_cord_youareranger_fresse()
{
	AI_Output(self,other,"DIA_Addon_Cord_YouAreRanger_FRESSE_14_00");	//Doœæ tego - to ju¿ przesada. Po¿a³ujesz tego!
	AI_StopProcessInfos(self);
	b_attack(self,other,AR_NONE,1);
	CORD_RANGERHELP_GETSLD = FALSE;
	CORD_RANGERHELP_FIGHT = FALSE;
	TOPIC_END_RANGERHELPSLD = TRUE;
};

func void dia_addon_cord_youareranger_ruestung()
{
	AI_Output(other,self,"DIA_Addon_Cord_YouAreRanger_ruestung_15_00");	//Chcê twojego pancerza.
	if(CORD_SC_DREIST == FALSE)
	{
		AI_Output(self,other,"DIA_Addon_Cord_YouAreRanger_ruestung_14_01");	//Jeszcze jeden taki tekst, a bêdziesz zbieraæ zêby z pod³ogi!
		CORD_SC_DREIST = TRUE;
	}
	else
	{
		b_dia_addon_cord_youareranger_fresse();
	};
};

func void dia_addon_cord_youareranger_waffe()
{
	AI_Output(other,self,"DIA_Addon_Cord_YouAreRanger_Add_15_00");	//Chcê twojej broni!
	if(CORD_SC_DREIST == FALSE)
	{
		AI_Output(self,other,"DIA_Addon_Cord_Add_14_03");	//Czy¿by?
		AI_Output(self,other,"DIA_Addon_Cord_Add_14_02");	//Ta, jasne...
		CORD_SC_DREIST = TRUE;
	}
	else
	{
		b_dia_addon_cord_youareranger_fresse();
	};
};

func void dia_addon_cord_youareranger_weg()
{
	AI_Output(other,self,"DIA_Addon_Cord_YouAreRanger_weg_15_00");	//Odwal siê. Albo mo¿esz od razu wybieraæ sobie kwaterê na cmentarzu.
	if(CORD_SC_DREIST == FALSE)
	{
		AI_Output(self,other,"DIA_Addon_Cord_YouAreRanger_weg_14_01");	//Lepiej ze mn¹ nie igraj, bo porachujê ci koœci.
		CORD_SC_DREIST = TRUE;
	}
	else
	{
		b_dia_addon_cord_youareranger_fresse();
	};
};


var int dia_addon_cord_youareranger_scgotoffer;

func void dia_addon_cord_youareranger_kampf()
{
	AI_Output(other,self,"DIA_Addon_Cord_YouAreRanger_kampf_15_00");	//Naucz mnie walki.
	AI_Output(self,other,"DIA_Addon_Cord_YouAreRanger_kampf_14_01");	//Dobra. Co jeszcze?
	CORD_RANGERHELP_FIGHT = TRUE;
	if(DIA_ADDON_CORD_YOUARERANGER_SCGOTOFFER == FALSE)
	{
		Info_AddChoice(dia_addon_cord_youareranger,"Doœæ tego.",dia_addon_cord_youareranger_reicht);
		DIA_ADDON_CORD_YOUARERANGER_SCGOTOFFER = TRUE;
	};
};

func void dia_addon_cord_youareranger_sldaufnahme()
{
	AI_Output(other,self,"DIA_Addon_Cord_YouAreRanger_SLDAufnahme_15_00");	//Mo¿esz pomóc mi w do³¹czeniu do najemników.
	AI_Output(self,other,"DIA_Addon_Cord_YouAreRanger_SLDAufnahme_14_01");	//A to dobre. Jasne, spróbujê. Coœ jeszcze?
	CORD_RANGERHELP_GETSLD = TRUE;
	if(DIA_ADDON_CORD_YOUARERANGER_SCGOTOFFER == FALSE)
	{
		Info_AddChoice(dia_addon_cord_youareranger,"Doœæ tego.",dia_addon_cord_youareranger_reicht);
		DIA_ADDON_CORD_YOUARERANGER_SCGOTOFFER = TRUE;
	};
};

func void dia_addon_cord_youareranger_gold()
{
	AI_Output(other,self,"DIA_Addon_Cord_YouAreRanger_Gold_15_00");	//Zap³aæ mi, a bêdê siedzieæ cicho.
	if(CORD_SC_DREIST == FALSE)
	{
		AI_Output(self,other,"DIA_Addon_Cord_YouAreRanger_Gold_14_01");	//Nie ma mowy - nie dam siê szanta¿owaæ.
		CORD_SC_DREIST = TRUE;
	}
	else
	{
		b_dia_addon_cord_youareranger_fresse();
	};
};

func void dia_addon_cord_youareranger_nix()
{
	AI_Output(other,self,"DIA_Addon_Cord_YouAreRanger_nix_15_00");	//Prawdê mówi¹c, to niczego mi nie potrzeba. Sam sobie jakoœ poradzê.
	AI_Output(self,other,"DIA_Addon_Cord_YouAreRanger_nix_14_01");	//Jak sobie tam chcesz.
	b_dia_addon_cord_youareranger_warn();
	Info_ClearChoices(dia_addon_cord_youareranger);
};

func void dia_addon_cord_youareranger_reicht()
{
	AI_Output(other,self,"DIA_Addon_Cord_YouAreRanger_reicht_15_00");	//To wystarczy.
	AI_Output(self,other,"DIA_Addon_Cord_YouAreRanger_reicht_14_01");	//Skoro to ju¿ wszystko...
	b_dia_addon_cord_youareranger_warn();
	Info_ClearChoices(dia_addon_cord_youareranger);
};


instance DIA_ADDON_CORD_RANGERHELP2GETSLD(C_INFO)
{
	npc = sld_805_cord;
	nr = 2;
	condition = dia_addon_cord_rangerhelp2getsld_condition;
	information = dia_addon_cord_rangerhelp2getsld_info;
	permanent = TRUE;
	description = "Pomó¿ mi zostaæ najemnikiem.";
};


var int dia_addon_cord_rangerhelp2getsld_noperm;

func int dia_addon_cord_rangerhelp2getsld_condition()
{
	if((CORD_RANGERHELP_GETSLD == TRUE) && (hero.guild == GIL_NONE) && (DIA_ADDON_CORD_RANGERHELP2GETSLD_NOPERM == FALSE))
	{
		return TRUE;
	};
};

func void b_cord_rangerhelpobsolete()
{
	AI_Output(other,self,"DIA_Addon_Cord_RangerHelpObsolete_15_00");	//Problem zosta³ ju¿ rozwi¹zany.
	AI_Output(self,other,"DIA_Addon_Cord_RangerHelpObsolete_14_01");	//W takim razie bêdzie ciê¿ko.
	AI_Output(other,self,"DIA_Addon_Cord_RangerHelpObsolete_15_02");	//O co ci chodzi?
	AI_Output(self,other,"DIA_Addon_Cord_RangerHelpObsolete_14_03");	//O to, ¿e nie mogê ci ju¿ pomóc.
	AI_Output(self,other,"DIA_Addon_Cord_RangerHelpObsolete_14_04");	//Bo chyba nie liczysz na to, ¿e bêdê walczyæ z ka¿dym najemnikiem tylko po to, aby przyjêli ciê w swe szeregi?
	AI_Output(self,other,"DIA_Addon_Cord_RangerHelpObsolete_14_05");	//Nie... To musisz zrobiæ sam.
	DIA_ADDON_CORD_RANGERHELP2GETSLD_NOPERM = TRUE;
	TOPIC_END_RANGERHELPSLD = TRUE;
};

func void b_cord_comelaterwhendone()
{
	AI_Output(self,other,"DIA_Addon_Cord_ComeLaterWhenDone_14_00");	//Dobrze - bierz siê do roboty i wróæ, gdy bêdzie ju¿ po wszystkim.
	AI_StopProcessInfos(self);
};

func void b_cord_idoitforyou()
{
	AI_Output(self,other,"DIA_Addon_Cord_IDoItForYou_14_00");	//Ach tak. To proste. Wróæ jutro - do tej pory sprawa bêdzie za³atwiona.
	AI_Output(self,other,"DIA_Addon_Cord_IDoItForYou_14_01");	//Oczywiœcie - ale bêdê chcia³ czegoœ w zamian.
	AI_Output(other,self,"DIA_Addon_Cord_IDoItForYou_15_02");	//Na przyk³ad?
	AI_Output(self,other,"DIA_Addon_Cord_IDoItForYou_14_03");	//W górach na po³udniowy wschód st¹d znajduje siê niedu¿y obóz bandytów.
	AI_Output(self,other,"DIA_Addon_Cord_IDoItForYou_14_04");	//Jeœli zwrócisz siê w tamtym kierunku, to zobaczysz wie¿ê.
	AI_Output(self,other,"DIA_Addon_Cord_IDoItForYou_14_05");	//Jeden z moich ludzi - Patrick - poszed³ tam parê dni temu. Chcia³ handlowaæ z tymi ³obuzami...
	AI_Output(self,other,"DIA_Addon_Cord_IDoItForYou_14_06");	//Mówi³em mu, ¿e to kiepski pomys³, ale ten dureñ nie chcia³ mnie s³uchaæ.
	AI_Output(self,other,"DIA_Addon_Cord_IDoItForYou_14_07");	//Zak³adam, ¿e pad³ ich ofiar¹, choæ nie mogê mieæ pewnoœci.
	AI_Output(self,other,"DIA_Addon_Cord_IDoItForYou_14_08");	//Zweryfikujesz dla mnie to podejrzenie.
	b_logentry(TOPIC_ADDON_RANGERHELPSLD,"Cord zajmie siê prób¹ Torlofa. Patrick, kumpel Corda, zagin¹³. Mam iœæ do obozu bandytów w górach na po³udniowym wschodzie i sprawdziæ, czy nie ma tam Patricka.");
	Info_ClearChoices(dia_addon_cord_rangerhelp2getsld);
	Info_AddChoice(dia_addon_cord_rangerhelp2getsld,"Nie ma mowy - to zadanie jest znacznie trudniejsze od tego, które proponuje Torlof.",b_cord_idoitforyou_mist);
	Info_AddChoice(dia_addon_cord_rangerhelp2getsld,"A sk¹d mam wiedzieæ, ¿e nie zrobi¹ tego samego, gdy ujrz¹ mnie?",b_cord_idoitforyou_dexter);
	DIA_ADDON_CORD_RANGERHELP2GETSLD_NOPERM = TRUE;
};

func void b_cord_idoitforyou_mist()
{
	AI_Output(other,self,"Dia_Addon_Cord_IDoItForYou_mist_15_00");	//Nie ma mowy - to zadanie jest znacznie trudniejsze od tego, które proponuje Torlof.
	AI_Output(self,other,"Dia_Addon_Cord_IDoItForYou_mist_14_01");	//Niekoniecznie - taki ma³y spryciarz, jak ty, nie powinien siê im wydaæ podejrzany.
	AI_Output(self,other,"Dia_Addon_Cord_IDoItForYou_mist_14_02");	//Sam jednak tego nie zrobiê - gdy tylko zobacz¹ najemnika, natychmiast chwyc¹ za broñ.
};

func void b_cord_idoitforyou_dexter()
{
	AI_Output(other,self,"Dia_Addon_Cord_IDoItForYou_Dexter_15_00");	//A sk¹d mam wiedzieæ, ¿e nie zrobi¹ tego samego, kiedy ujrz¹ mnie?
	AI_Output(self,other,"Dia_Addon_Cord_IDoItForYou_Dexter_14_01");	//Bo znam imiê ich wodza - to Dexter. Udaj, ¿e go znasz.
	AI_Output(self,other,"Dia_Addon_Cord_IDoItForYou_Dexter_14_02");	//Zastanowi¹ siê dwa razy, zanim ciê zaatakuj¹.
	AI_Output(self,other,"Dia_Addon_Cord_IDoItForYou_Dexter_14_03");	//Oczywiœcie ca³a afera i tak mo¿e siê okazaæ ca³kiem niebezpieczna.
	AI_Output(self,other,"Dia_Addon_Cord_IDoItForYou_Dexter_14_04");	//Ale jakoœ sobie poradzisz.
	Info_ClearChoices(dia_addon_cord_rangerhelp2getsld);
	b_logentry(TOPIC_ADDON_RANGERHELPSLD,"Przywódca bandytów nazywa siê Dexter.");
	Log_CreateTopic(TOPIC_ADDON_MISSINGPEOPLE,LOG_MISSION);
	Log_SetTopicStatus(TOPIC_ADDON_MISSINGPEOPLE,LOG_RUNNING);
	b_logentry(TOPIC_ADDON_MISSINGPEOPLE,"Najemnik Cord szuka swojego kumpla, Patricka.");
	MIS_ADDON_CORD_LOOK4PATRICK = LOG_RUNNING;
	RANGER_SCKNOWSDEXTER = TRUE;
};

func void dia_addon_cord_rangerhelp2getsld_info()
{
	AI_Output(other,self,"DIA_Addon_Cord_RangerHelp2GetSLD_15_00");	//Pomó¿ mi zostaæ najemnikiem.
	AI_Output(self,other,"DIA_Addon_Cord_RangerHelp2GetSLD_14_01");	//Hmm... Pomyœlmy. Na pewno musisz w tym celu pogadaæ z Torlofem.
	AI_Output(self,other,"DIA_Addon_Cord_RangerHelp2GetSLD_14_02");	//Rozmawia³eœ z nim na ten temat?
	if(TORLOF_GO == FALSE)
	{
		AI_Output(other,self,"DIA_Addon_Cord_RangerHelp2GetSLD_15_03");	//Nie bardzo.
		b_cord_comelaterwhendone();
	}
	else
	{
		AI_Output(other,self,"DIA_Addon_Cord_RangerHelp2GetSLD_15_04");	//Taaa. To próba.
		AI_Output(self,other,"DIA_Addon_Cord_RangerHelp2GetSLD_14_05");	//Rozumiem. A na czym ta próba polega, tak konkretnie?
		if((TORLOF_PROBEBESTANDEN == TRUE) || ((MIS_TORLOF_BENGARMILIZKLATSCHEN == LOG_RUNNING) && Npc_IsDead(rumbold) && Npc_IsDead(rick)) || ((MIS_TORLOF_HOLPACHTVONSEKOB == LOG_RUNNING) && ((sekob.aivar[AIV_DEFEATEDBYPLAYER] == TRUE) || Npc_IsDead(sekob))))
		{
			b_cord_rangerhelpobsolete();
		}
		else if(TORLOF_PROBE == 0)
		{
			AI_Output(other,self,"DIA_Addon_Cord_RangerHelp2GetSLD_15_06");	//Tego jeszcze nie wiem.
			b_cord_comelaterwhendone();
		}
		else if(TORLOF_PROBE == PROBE_SEKOB)
		{
			AI_Output(other,self,"DIA_Addon_Cord_RangerHelp2GetSLD_15_07");	//Polecono mi odebraæ akt w³asnoœci - d³ug Sekoba.
			b_cord_idoitforyou();
		}
		else if(TORLOF_PROBE == PROBE_BENGAR)
		{
			AI_Output(other,self,"DIA_Addon_Cord_RangerHelp2GetSLD_15_08");	//Mam siê zaj¹æ stra¿¹ na farmie Bengara.
			b_cord_idoitforyou();
		}
		else
		{
			b_cord_rangerhelpobsolete();
		};
	};
};


instance DIA_ADDON_CORD_TALKEDTODEXTER(C_INFO)
{
	npc = sld_805_cord;
	nr = 5;
	condition = dia_addon_cord_talkedtodexter_condition;
	information = dia_addon_cord_talkedtodexter_info;
	description = "Odwiedziny u Dextera mam ju¿ za sob¹.";
};


func int dia_addon_cord_talkedtodexter_condition()
{
	if(((bdt_1060_dexter.aivar[AIV_TALKEDTOPLAYER] == TRUE) || Npc_IsDead(bdt_1060_dexter)) && (MIS_ADDON_CORD_LOOK4PATRICK == LOG_RUNNING))
	{
		return TRUE;
	};
};

func void dia_addon_cord_talkedtodexter_info()
{
	AI_Output(other,self,"DIA_Addon_Cord_TalkedToDexter_15_00");	//Odwiedziny u Dextera mam ju¿ za sob¹.
	AI_Output(self,other,"DIA_Addon_Cord_TalkedToDexter_14_01");	//I?
	if(Npc_IsDead(bdt_1060_dexter))
	{
		AI_Output(other,self,"DIA_Addon_Cord_TalkedToDexter_15_02");	//Nie ¿yje.
	};
	AI_Output(other,self,"DIA_Addon_Cord_TalkedToDexter_15_03");	//Nie znalaz³em ¿adnego œladu tego twojego Patricka.
	if(DEXTER_KNOWSPATRICK == TRUE)
	{
		AI_Output(other,self,"DIA_Addon_Cord_TalkedToDexter_15_04");	//Dexter go zapamiêta³, ale mówi³, ¿e Patrick od d³u¿szego czasu ju¿ ich nie odwiedza³.
		AI_Output(self,other,"DIA_Addon_Cord_TalkedToDexter_14_05");	//Masz pewnoœæ, ¿e nie k³ama³?
		AI_Output(other,self,"DIA_Addon_Cord_TalkedToDexter_15_06");	//Nie. Ale ¿adnymi innymi informacjami nie dysponujê.
	};
	AI_Output(self,other,"DIA_Addon_Cord_TalkedToDexter_14_07");	//Nie rozumiem. Goœæ zagin¹³ bez wieœci.
	AI_Output(self,other,"DIA_Addon_Cord_TalkedToDexter_14_08");	//Twoja czêœæ umowy zosta³a jednak wype³niona...
	MIS_ADDON_CORD_LOOK4PATRICK = LOG_SUCCESS;
	TOPIC_END_RANGERHELPSLD = TRUE;
	b_giveplayerxp(XP_ADDON_CORD_LOOK4PATRICK);
	AI_Output(other,self,"DIA_Addon_Cord_TalkedToDexter_15_09");	//Co wiêc z prób¹ Torlofa?
	AI_Output(self,other,"DIA_Addon_Cord_TalkedToDexter_14_10");	//Wróæ do niego - próba zakoñczona pomyœlnie. Mówi³em, ¿e siê tym zajmê...
	CORD_RANGERHELP_TORLOFSPROBE = TRUE;
	if(TORLOF_PROBE == PROBE_SEKOB)
	{
		MIS_TORLOF_HOLPACHTVONSEKOB = LOG_SUCCESS;
	}
	else if(TORLOF_PROBE == PROBE_BENGAR)
	{
		MIS_TORLOF_BENGARMILIZKLATSCHEN = LOG_SUCCESS;
	};
};


instance DIA_CORD_RETURNPATRICK(C_INFO)
{
	npc = sld_805_cord;
	nr = 8;
	condition = dia_cord_returnpatrick_condition;
	information = dia_cord_returnpatrick_info;
	permanent = FALSE;
	description = "Patrick wróci³.";
};


func int dia_cord_returnpatrick_condition()
{
	if((Npc_GetDistToWP(patrick_nw,"NW_BIGFARM_PATRICK") <= 1000) && (MISSINGPEOPLERETURNEDHOME == TRUE))
	{
		return TRUE;
	};
};

func void dia_cord_returnpatrick_info()
{
	AI_Output(other,self,"DIA_Addon_Cord_ReturnPatrick_15_00");	//Patrick wróci³.
	AI_Output(self,other,"DIA_Addon_Cord_ReturnPatrick_14_01");	//Nie s¹dzi³em, ¿e go jeszcze kiedyœ ujrzê...
	AI_Output(other,self,"DIA_Addon_Cord_ReturnPatrick_15_02");	//Zrobisz coœ dla mnie?
	AI_Output(self,other,"DIA_Addon_Cord_ReturnPatrick_14_03");	//Jasne.
	AI_Output(other,self,"DIA_Addon_Cord_ReturnPatrick_15_04");	//Nie dziêkuj mi.
	AI_Output(self,other,"DIA_Addon_Cord_ReturnPatrick_14_05");	//Nie mia³em takiego zamiaru.
	AI_Output(other,self,"DIA_Addon_Cord_ReturnPatrick_15_06");	//Wiêc...?
	AI_Output(self,other,"DIA_Addon_Cord_ReturnPatrick_14_07");	//Powiem ci tylko, ¿e niez³y z ciebie numer.
	AI_Output(self,other,"DIA_Addon_Cord_ReturnPatrick_14_09");	//Uwa¿aj na siebie!
	b_giveplayerxp(XP_AMBIENT);
	AI_StopProcessInfos(self);
};


instance DIA_CORD_EXPLAINSKILLS(C_INFO)
{
	npc = sld_805_cord;
	nr = 1;
	condition = dia_cord_explainskills_condition;
	information = dia_cord_explainskills_info;
	permanent = FALSE;
	description = "Od czego powinienem zacz¹æ, od walki broni¹ jedno- czy dwurêczn¹?";
};


func int dia_cord_explainskills_condition()
{
	if(CORD_APPROVED == TRUE)
	{
		return TRUE;
	};
};

func void dia_cord_explainskills_info()
{
	AI_Output(other,self,"DIA_Cord_ExplainSkills_15_00");	//Od czego powinienem zacz¹æ, od walki broni¹ jedno- czy dwurêczn¹?
	AI_Output(self,other,"DIA_Cord_ExplainSkills_14_01");	//Te dwa rodzaje broni s¹ doœæ podobne.
	AI_Output(self,other,"DIA_Cord_ExplainSkills_14_02");	//Dlatego za ka¿dym razem, kiedy osi¹gasz nastêpny stopieñ doœwiadczenia w pos³ugiwaniu siê jedn¹ z nich, podnosz¹ siê twoje umiejêtnoœci w zakresie walki drug¹.
	AI_Output(self,other,"DIA_Cord_ExplainSkills_14_03");	//Oznacza to, ¿e jeœli jesteœ dobrze obeznany z mieczem jednorêcznym, ale wci¹¿ brakuje ci doœwiadczenia w pos³ugiwaniu siê broni¹ dwurêczn¹...
	AI_Output(self,other,"DIA_Cord_ExplainSkills_14_04");	//...twoje umiejêtnoœci w zakresie walki mieczem dwurêcznym wzrastaj¹ za ka¿dym razem, kiedy trenujesz z mieczem jednorêcznym.
	AI_Output(self,other,"DIA_Cord_ExplainSkills_14_05");	//Jeœli trenujesz walkê jednym rodzajem broni, twój trening bêdzie bardziej wyczerpuj¹cy.
	AI_Output(self,other,"DIA_Cord_ExplainSkills_14_06");	//Jeœli trenujesz walkê dwoma rodzajami broni, osi¹gniesz ten sam efekt przy mniejszym wysi³ku.
	AI_Output(self,other,"DIA_Cord_ExplainSkills_14_07");	//Ostatecznie wyjdzie na to samo - wybór nale¿y do ciebie.
};


instance DIA_CORD_EXPLAINWEAPONS(C_INFO)
{
	npc = sld_805_cord;
	nr = 2;
	condition = dia_cord_explainweapons_condition;
	information = dia_cord_explainweapons_info;
	permanent = FALSE;
	description = "Jakie s¹ zalety broni jedno- i dwurêcznych?";
};


func int dia_cord_explainweapons_condition()
{
	if(CORD_APPROVED == TRUE)
	{
		return TRUE;
	};
};

func void dia_cord_explainweapons_info()
{
	AI_Output(other,self,"DIA_Cord_ExplainWeapons_15_00");	//Jakie s¹ zalety broni jedno- i dwurêcznych?
	AI_Output(self,other,"DIA_Cord_ExplainWeapons_14_01");	//Dobre pytanie. Widzê, ¿e przemyœla³eœ kwestiê swojego treningu.
	AI_Output(self,other,"DIA_Cord_ExplainWeapons_14_02");	//Broñ jednorêczna jest szybsza, ale zadaje trochê mniejsze obra¿enia.
	AI_Output(self,other,"DIA_Cord_ExplainWeapons_14_03");	//Z kolei broñ dwurêczna zadaje wiêksze obra¿enia, ale nie mo¿esz zadawaæ ni¹ szybkich ciosów.
	AI_Output(self,other,"DIA_Cord_ExplainWeapons_14_04");	//Poza tym walka broni¹ dwurêczn¹ wymaga wiêkszej si³y, a to oznacza dodatkowy trening.
	AI_Output(self,other,"DIA_Cord_ExplainWeapons_14_05");	//Dobre wyszkolenie wymaga sporo wysi³ku.
};


var int cord_merke_1h;
var int cord_merke_2h;

instance DIA_CORD_TEACH(C_INFO)
{
	npc = sld_805_cord;
	nr = 3;
	condition = dia_cord_teach_condition;
	information = dia_cord_teach_info;
	permanent = TRUE;
	description = "Naucz mnie walczyæ!";
};


func int dia_cord_teach_condition()
{
	return TRUE;
};

func void b_cord_zeitverschwendung()
{
	AI_Output(self,other,"DIA_Cord_Teach_14_03");	//Nie marnujê czasu na amatorów.
};

func void dia_cord_teach_info()
{
	AI_Output(other,self,"DIA_Cord_Teach_15_00");	//Naucz mnie walczyæ!
	if((CORD_APPROVED == TRUE) || (hero.guild == GIL_SLD) || (hero.guild == GIL_DJG) || (CORD_RANGERHELP_FIGHT == TRUE))
	{
		if(((Npc_GetTalentSkill(other,NPC_TALENT_1H) > 0) && (Npc_GetTalentSkill(other,NPC_TALENT_2H) > 0)) || (CORD_RANGERHELP_FIGHT == TRUE))
		{
			AI_Output(self,other,"DIA_Cord_Teach_14_01");	//Mogê ciê nauczyæ walki ka¿d¹ broni¹. Od czego zaczniemy?
			CORD_APPROVED = TRUE;
		}
		else if(Npc_GetTalentSkill(other,NPC_TALENT_1H) > 0)
		{
			AI_Output(self,other,"DIA_Cord_Teach_14_02");	//Mogê ciê nauczyæ walki mieczem jednorêcznym. Do dwurêcznego brakuje ci jeszcze umiejêtnoœci.
			b_cord_zeitverschwendung();
			CORD_APPROVED = TRUE;
		}
		else if(Npc_GetTalentSkill(other,NPC_TALENT_2H) > 0)
		{
			AI_Output(self,other,"DIA_Cord_Teach_14_04");	//Jeœli chodzi o miecz jednorêczny, to jesteœ jeszcze cholernie zielony! Natomiast z mieczem dwurêcznym idzie ci znacznie lepiej.
			AI_Output(self,other,"DIA_Cord_Teach_14_05");	//Jeœli potrzebujesz szkolenia w zakresie walki broni¹ jednorêczn¹, musisz znaleŸæ innego nauczyciela.
			CORD_APPROVED = TRUE;
		}
		else
		{
			b_cord_zeitverschwendung();
			b_cord_bebetter();
		};
		if(CORD_APPROVED == TRUE)
		{
			Info_ClearChoices(dia_cord_teach);
			Info_AddChoice(dia_cord_teach,DIALOG_BACK,dia_cord_teach_back);
			if((Npc_GetTalentSkill(other,NPC_TALENT_2H) > 0) || (CORD_RANGERHELP_FIGHT == TRUE))
			{
				Info_AddChoice(dia_cord_teach,b_buildlearnstring(PRINT_LEARN2H1,b_getlearncosttalent(other,NPC_TALENT_2H,1)),dia_cord_teach_2h_1);
				Info_AddChoice(dia_cord_teach,b_buildlearnstring(PRINT_LEARN2H5,b_getlearncosttalent(other,NPC_TALENT_2H,5)),dia_cord_teach_2h_5);
			};
			if((Npc_GetTalentSkill(other,NPC_TALENT_1H) > 0) || (CORD_RANGERHELP_FIGHT == TRUE))
			{
				Info_AddChoice(dia_cord_teach,b_buildlearnstring(PRINT_LEARN1H1,b_getlearncosttalent(other,NPC_TALENT_1H,1)),dia_cord_teach_1h_1);
				Info_AddChoice(dia_cord_teach,b_buildlearnstring(PRINT_LEARN1H5,b_getlearncosttalent(other,NPC_TALENT_1H,5)),dia_cord_teach_1h_5);
			};
			CORD_MERKE_1H = other.hitchance[NPC_TALENT_1H];
			CORD_MERKE_2H = other.hitchance[NPC_TALENT_2H];
		};
	}
	else
	{
		AI_Output(self,other,"DIA_Cord_Teach_14_06");	//Trenujê tylko najemników albo bardziej doœwiadczonych wojowników!
	};
};

func void dia_cord_teach_back()
{
	if((CORD_MERKE_1H < other.hitchance[NPC_TALENT_1H]) || (CORD_MERKE_2H < other.hitchance[NPC_TALENT_2H]))
	{
		AI_Output(self,other,"DIA_Cord_Teach_BACK_14_00");	//Ju¿ jesteœ lepszy - tak trzymaæ!
	};
	Info_ClearChoices(dia_cord_teach);
};

func void dia_cord_teach_2h_1()
{
	b_teachfighttalentpercent(self,other,NPC_TALENT_2H,1,90);
	Info_ClearChoices(dia_cord_teach);
	Info_AddChoice(dia_cord_teach,DIALOG_BACK,dia_cord_teach_back);
	if(Npc_GetTalentSkill(other,NPC_TALENT_2H) > 0)
	{
		Info_AddChoice(dia_cord_teach,b_buildlearnstring(PRINT_LEARN2H1,b_getlearncosttalent(other,NPC_TALENT_2H,1)),dia_cord_teach_2h_1);
		Info_AddChoice(dia_cord_teach,b_buildlearnstring(PRINT_LEARN2H5,b_getlearncosttalent(other,NPC_TALENT_2H,5)),dia_cord_teach_2h_5);
	};
	if(Npc_GetTalentSkill(other,NPC_TALENT_1H) > 0)
	{
		Info_AddChoice(dia_cord_teach,b_buildlearnstring(PRINT_LEARN1H1,b_getlearncosttalent(other,NPC_TALENT_1H,1)),dia_cord_teach_1h_1);
		Info_AddChoice(dia_cord_teach,b_buildlearnstring(PRINT_LEARN1H5,b_getlearncosttalent(other,NPC_TALENT_1H,5)),dia_cord_teach_1h_5);
	};
};

func void dia_cord_teach_2h_5()
{
	b_teachfighttalentpercent(self,other,NPC_TALENT_2H,5,90);
	Info_ClearChoices(dia_cord_teach);
	Info_AddChoice(dia_cord_teach,DIALOG_BACK,dia_cord_teach_back);
	if(Npc_GetTalentSkill(other,NPC_TALENT_2H) > 0)
	{
		Info_AddChoice(dia_cord_teach,b_buildlearnstring(PRINT_LEARN2H1,b_getlearncosttalent(other,NPC_TALENT_2H,1)),dia_cord_teach_2h_1);
		Info_AddChoice(dia_cord_teach,b_buildlearnstring(PRINT_LEARN2H5,b_getlearncosttalent(other,NPC_TALENT_2H,5)),dia_cord_teach_2h_5);
	};
	if(Npc_GetTalentSkill(other,NPC_TALENT_1H) > 0)
	{
		Info_AddChoice(dia_cord_teach,b_buildlearnstring(PRINT_LEARN1H1,b_getlearncosttalent(other,NPC_TALENT_1H,1)),dia_cord_teach_1h_1);
		Info_AddChoice(dia_cord_teach,b_buildlearnstring(PRINT_LEARN1H5,b_getlearncosttalent(other,NPC_TALENT_1H,5)),dia_cord_teach_1h_5);
	};
};

func void dia_cord_teach_1h_1()
{
	b_teachfighttalentpercent(self,other,NPC_TALENT_1H,1,90);
	Info_ClearChoices(dia_cord_teach);
	Info_AddChoice(dia_cord_teach,DIALOG_BACK,dia_cord_teach_back);
	if(Npc_GetTalentSkill(other,NPC_TALENT_2H) > 0)
	{
		Info_AddChoice(dia_cord_teach,b_buildlearnstring(PRINT_LEARN2H1,b_getlearncosttalent(other,NPC_TALENT_2H,1)),dia_cord_teach_2h_1);
		Info_AddChoice(dia_cord_teach,b_buildlearnstring(PRINT_LEARN2H5,b_getlearncosttalent(other,NPC_TALENT_2H,5)),dia_cord_teach_2h_5);
	};
	if(Npc_GetTalentSkill(other,NPC_TALENT_1H) > 0)
	{
		Info_AddChoice(dia_cord_teach,b_buildlearnstring(PRINT_LEARN1H1,b_getlearncosttalent(other,NPC_TALENT_1H,1)),dia_cord_teach_1h_1);
		Info_AddChoice(dia_cord_teach,b_buildlearnstring(PRINT_LEARN1H5,b_getlearncosttalent(other,NPC_TALENT_1H,5)),dia_cord_teach_1h_5);
	};
};

func void dia_cord_teach_1h_5()
{
	b_teachfighttalentpercent(self,other,NPC_TALENT_1H,5,90);
	Info_ClearChoices(dia_cord_teach);
	Info_AddChoice(dia_cord_teach,DIALOG_BACK,dia_cord_teach_back);
	if(Npc_GetTalentSkill(other,NPC_TALENT_2H) > 0)
	{
		Info_AddChoice(dia_cord_teach,b_buildlearnstring(PRINT_LEARN2H1,b_getlearncosttalent(other,NPC_TALENT_2H,1)),dia_cord_teach_2h_1);
		Info_AddChoice(dia_cord_teach,b_buildlearnstring(PRINT_LEARN2H5,b_getlearncosttalent(other,NPC_TALENT_2H,5)),dia_cord_teach_2h_5);
	};
	if(Npc_GetTalentSkill(other,NPC_TALENT_1H) > 0)
	{
		Info_AddChoice(dia_cord_teach,b_buildlearnstring(PRINT_LEARN1H1,b_getlearncosttalent(other,NPC_TALENT_1H,1)),dia_cord_teach_1h_1);
		Info_AddChoice(dia_cord_teach,b_buildlearnstring(PRINT_LEARN1H5,b_getlearncosttalent(other,NPC_TALENT_1H,5)),dia_cord_teach_1h_5);
	};
};


instance DIA_CORD_PICKPOCKET(C_INFO)
{
	npc = sld_805_cord;
	nr = 900;
	condition = dia_cord_pickpocket_condition;
	information = dia_cord_pickpocket_info;
	permanent = TRUE;
	description = PICKPOCKET_80;
};


func int dia_cord_pickpocket_condition()
{
	return c_beklauen(65,75);
};

func void dia_cord_pickpocket_info()
{
	Info_ClearChoices(dia_cord_pickpocket);
	Info_AddChoice(dia_cord_pickpocket,DIALOG_BACK,dia_cord_pickpocket_back);
	Info_AddChoice(dia_cord_pickpocket,DIALOG_PICKPOCKET,dia_cord_pickpocket_doit);
};

func void dia_cord_pickpocket_doit()
{
	b_beklauen();
	Info_ClearChoices(dia_cord_pickpocket);
};

func void dia_cord_pickpocket_back()
{
	Info_ClearChoices(dia_cord_pickpocket);
};

